import{i as Mr,A as $r,Z as Pt,J as tt,b as Be,_ as we,$ as Lt,r as j,K as kr,d as Fr,j as F,t as zr,h as jr,e as Ur,ab as Ae,H as Y,a5 as Me,a6 as $e,a9 as Hr,a7 as _e,W as Ke,a8 as St,ac as Yr}from"./assets/createSvgIcon-PHgLW2xo.js";function Vr(n){return Mr("MuiCircularProgress",n)}$r("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Wr=["className","color","disableShrink","size","style","thickness","value","variant"];let ke=n=>n,Tt,Ct,Rt,At;const me=44,Gr=Pt(Tt||(Tt=ke`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Xr=Pt(Ct||(Ct=ke`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),qr=n=>{const{classes:s,variant:u,color:v,disableShrink:b}=n,y={root:["root",u,`color${Be(v)}`],svg:["svg"],circle:["circle",`circle${Be(u)}`,b&&"circleDisableShrink"]};return jr(y,Vr,s)},Qr=tt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,s)=>{const{ownerState:u}=n;return[s.root,s[u.variant],s[`color${Be(u.color)}`]]}})(({ownerState:n,theme:s})=>we({display:"inline-block"},n.variant==="determinate"&&{transition:s.transitions.create("transform")},n.color!=="inherit"&&{color:(s.vars||s).palette[n.color].main}),({ownerState:n})=>n.variant==="indeterminate"&&Lt(Rt||(Rt=ke`
      animation: ${0} 1.4s linear infinite;
    `),Gr)),Kr=tt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,s)=>s.svg})({display:"block"}),Jr=tt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,s)=>{const{ownerState:u}=n;return[s.circle,s[`circle${Be(u.variant)}`],u.disableShrink&&s.circleDisableShrink]}})(({ownerState:n,theme:s})=>we({stroke:"currentColor"},n.variant==="determinate"&&{transition:s.transitions.create("stroke-dashoffset")},n.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink&&Lt(At||(At=ke`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Xr)),Zr=j.forwardRef(function(s,u){const v=kr({props:s,name:"MuiCircularProgress"}),{className:b,color:y="primary",disableShrink:g=!1,size:w=40,style:A,thickness:C=3.6,value:E=0,variant:h="indeterminate"}=v,I=Fr(v,Wr),B=we({},v,{color:y,disableShrink:g,size:w,thickness:C,value:E,variant:h}),R=qr(B),N={},D={},O={};if(h==="determinate"){const S=2*Math.PI*((me-C)/2);N.strokeDasharray=S.toFixed(3),O["aria-valuenow"]=Math.round(E),N.strokeDashoffset=`${((100-E)/100*S).toFixed(3)}px`,D.transform="rotate(-90deg)"}return F.jsx(Qr,we({className:zr(R.root,b),style:we({width:w,height:w},D,A),ownerState:B,ref:u,role:"progressbar"},O,I,{children:F.jsx(Kr,{className:R.svg,ownerState:B,viewBox:`${me/2} ${me/2} ${me} ${me}`,children:F.jsx(Jr,{className:R.circle,style:N,ownerState:B,cx:me,cy:me,r:(me-C)/2,fill:"none",strokeWidth:C})})}))}),en=(n={})=>{var s,u,v;return{config:n,chats:((s=n.session)==null?void 0:s.chats)||[],chatid:((u=n.session)==null?void 0:u.chatId)||Math.random().toString().substring(2,12),messages:[{role:"api",content:((v=n.assistant)==null?void 0:v.welcomeMessage)||"Hello! How can I assist you today?",timestamp:new Date().toLocaleString(),uploads:[]}],online:!1,error:"",isApiTyping:!1,isUserTyping:!1}},Bt=j.createContext(null),tn=({children:n,config:s})=>{const[u,v]=Ur(nn,en(s));return F.jsx(Bt.Provider,{value:[u,v],children:n})},rn=()=>{const n=j.useContext(Bt);if(!n)throw new Error("useContextData must be used within a ContextProvider");return n},nn=(n,s)=>{switch(s.type){case"SET_CONFIG":n.config=s.payload;break;case"ADD_MESSAGE":n.messages.push(s.payload);break;case"SET_ONLINE_STATUS":n.online=s.payload;break;case"SET_ERROR":n.error=s.payload;break;case"SET_API_TYPING":n.isApiTyping=s.payload;break;case"SET_USER_TYPING":n.isUserTyping=s.payload;break;case"CLEAR_CHAT":n.messages=[],n.chatid=Math.random().toString().substring(2,12),localStorage.setItem("chatid",n.chatid);break}};function Ne(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var on={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,s){(function(u){n.exports=u()})(function(){return function u(v,b,y){function g(C,E){if(!b[C]){if(!v[C]){var h=typeof Ne=="function"&&Ne;if(!E&&h)return h(C,!0);if(w)return w(C,!0);var I=new Error("Cannot find module '"+C+"'");throw I.code="MODULE_NOT_FOUND",I}var B=b[C]={exports:{}};v[C][0].call(B.exports,function(R){var N=v[C][1][R];return g(N||R)},B,B.exports,u,v,b,y)}return b[C].exports}for(var w=typeof Ne=="function"&&Ne,A=0;A<y.length;A++)g(y[A]);return g}({1:[function(u,v,b){(function(y){var g=y.MutationObserver||y.WebKitMutationObserver,w;if(g){var A=0,C=new g(R),E=y.document.createTextNode("");C.observe(E,{characterData:!0}),w=function(){E.data=A=++A%2}}else if(!y.setImmediate&&typeof y.MessageChannel<"u"){var h=new y.MessageChannel;h.port1.onmessage=R,w=function(){h.port2.postMessage(0)}}else"document"in y&&"onreadystatechange"in y.document.createElement("script")?w=function(){var D=y.document.createElement("script");D.onreadystatechange=function(){R(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},y.document.documentElement.appendChild(D)}:w=function(){setTimeout(R,0)};var I,B=[];function R(){I=!0;for(var D,O,S=B.length;S;){for(O=B,B=[],D=-1;++D<S;)O[D]();S=B.length}I=!1}v.exports=N;function N(D){B.push(D)===1&&!I&&w()}}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,v,b){var y=u(1);function g(){}var w={},A=["REJECTED"],C=["FULFILLED"],E=["PENDING"];v.exports=h;function h(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,p!==g&&N(this,p)}h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,M){if(typeof p!="function"&&this.state===C||typeof M!="function"&&this.state===A)return this;var T=new this.constructor(g);if(this.state!==E){var _=this.state===C?p:M;B(T,_,this.outcome)}else this.queue.push(new I(T,p,M));return T};function I(p,M,T){this.promise=p,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}I.prototype.callFulfilled=function(p){w.resolve(this.promise,p)},I.prototype.otherCallFulfilled=function(p){B(this.promise,this.onFulfilled,p)},I.prototype.callRejected=function(p){w.reject(this.promise,p)},I.prototype.otherCallRejected=function(p){B(this.promise,this.onRejected,p)};function B(p,M,T){y(function(){var _;try{_=M(T)}catch(L){return w.reject(p,L)}_===p?w.reject(p,new TypeError("Cannot resolve promise with itself")):w.resolve(p,_)})}w.resolve=function(p,M){var T=D(R,M);if(T.status==="error")return w.reject(p,T.value);var _=T.value;if(_)N(p,_);else{p.state=C,p.outcome=M;for(var L=-1,H=p.queue.length;++L<H;)p.queue[L].callFulfilled(M)}return p},w.reject=function(p,M){p.state=A,p.outcome=M;for(var T=-1,_=p.queue.length;++T<_;)p.queue[T].callRejected(M);return p};function R(p){var M=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof M=="function")return function(){M.apply(p,arguments)}}function N(p,M){var T=!1;function _(G){T||(T=!0,w.reject(p,G))}function L(G){T||(T=!0,w.resolve(p,G))}function H(){M(L,_)}var W=D(H);W.status==="error"&&_(W.value)}function D(p,M){var T={};try{T.value=p(M),T.status="success"}catch(_){T.status="error",T.value=_}return T}h.resolve=O;function O(p){return p instanceof this?p:w.resolve(new this(g),p)}h.reject=S;function S(p){var M=new this(g);return w.reject(M,p)}h.all=P;function P(p){var M=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=p.length,_=!1;if(!T)return this.resolve([]);for(var L=new Array(T),H=0,W=-1,G=new this(g);++W<T;)K(p[W],W);return G;function K(ee,se){M.resolve(ee).then(le,function(J){_||(_=!0,w.reject(G,J))});function le(J){L[se]=J,++H===T&&!_&&(_=!0,w.resolve(G,L))}}}h.race=k;function k(p){var M=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=p.length,_=!1;if(!T)return this.resolve([]);for(var L=-1,H=new this(g);++L<T;)W(p[L]);return H;function W(G){M.resolve(G).then(function(K){_||(_=!0,w.resolve(H,K))},function(K){_||(_=!0,w.reject(H,K))})}}},{1:1}],3:[function(u,v,b){(function(y){typeof y.Promise!="function"&&(y.Promise=u(2))}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,v,b){var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var A=w();function C(){try{if(!A||!A.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function E(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new t,i=0;i<e.length;i+=1)a.append(e[i]);return a.getBlob(r.type)}}typeof Promise>"u"&&u(3);var h=Promise;function I(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function B(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function R(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var D="local-forage-detect-blob-support",O=void 0,S={},P=Object.prototype.toString,k="readonly",p="readwrite";function M(e){for(var r=e.length,t=new ArrayBuffer(r),a=new Uint8Array(t),i=0;i<r;i++)a[i]=e.charCodeAt(i);return t}function T(e){return new h(function(r){var t=e.transaction(D,p),a=E([""]);t.objectStore(D).put(a,"key"),t.onabort=function(i){i.preventDefault(),i.stopPropagation(),r(!1)},t.oncomplete=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);r(o||!i||parseInt(i[1],10)>=43)}}).catch(function(){return!1})}function _(e){return typeof O=="boolean"?h.resolve(O):T(e).then(function(r){return O=r,O})}function L(e){var r=S[e.name],t={};t.promise=new h(function(a,i){t.resolve=a,t.reject=i}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function H(e){var r=S[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function W(e,r){var t=S[e.name],a=t.deferredOperations.pop();if(a)return a.reject(r),a.promise}function G(e,r){return new h(function(t,a){if(S[e.name]=S[e.name]||re(),e.db)if(r)L(e),e.db.close();else return t(e.db);var i=[e.name];r&&i.push(e.version);var o=A.open.apply(A,i);r&&(o.onupgradeneeded=function(c){var l=o.result;try{l.createObjectStore(e.storeName),c.oldVersion<=1&&l.createObjectStore(D)}catch(f){if(f.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+c.oldVersion+" to version "+c.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw f}}),o.onerror=function(c){c.preventDefault(),a(o.error)},o.onsuccess=function(){var c=o.result;c.onversionchange=function(l){l.target.close()},t(c),H(e)}})}function K(e){return G(e,!1)}function ee(e){return G(e,!0)}function se(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,i=e.version>e.db.version;if(a&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function le(e){return new h(function(r,t){var a=new FileReader;a.onerror=t,a.onloadend=function(i){var o=btoa(i.target.result||"");r({__local_forage_encoded_blob:!0,data:o,type:e.type})},a.readAsBinaryString(e)})}function J(e){var r=M(atob(e.data));return E([r],{type:e.type})}function ce(e){return e&&e.__local_forage_encoded_blob}function fe(e){var r=this,t=r._initReady().then(function(){var a=S[r._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return B(t,e,e),t}function de(e){L(e);for(var r=S[e.name],t=r.forages,a=0;a<t.length;a++){var i=t[a];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,K(e).then(function(o){return e.db=o,se(e)?ee(e):o}).then(function(o){e.db=r.db=o;for(var c=0;c<t.length;c++)t[c]._dbInfo.db=o}).catch(function(o){throw W(e,o),o})}function Q(e,r,t,a){a===void 0&&(a=1);try{var i=e.db.transaction(e.storeName,r);t(null,i)}catch(o){if(a>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return h.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ee(e)}).then(function(){return de(e).then(function(){Q(e,r,t,a-1)})}).catch(t);t(o)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function te(e){var r=this,t={db:null};if(e)for(var a in e)t[a]=e[a];var i=S[t.name];i||(i=re(),S[t.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=fe);var o=[];function c(){return h.resolve()}for(var l=0;l<i.forages.length;l++){var f=i.forages[l];f!==r&&o.push(f._initReady().catch(c))}var d=i.forages.slice(0);return h.all(o).then(function(){return t.db=i.db,K(t)}).then(function(m){return t.db=m,se(t,r._defaultConfig.version)?ee(t):m}).then(function(m){t.db=i.db=m,r._dbInfo=t;for(var x=0;x<d.length;x++){var $=d[x];$!==r&&($._dbInfo.db=t.db,$._dbInfo.version=t.version)}})}function ne(e,r){var t=this;e=R(e);var a=new h(function(i,o){t.ready().then(function(){Q(t._dbInfo,k,function(c,l){if(c)return o(c);try{var f=l.objectStore(t._dbInfo.storeName),d=f.get(e);d.onsuccess=function(){var m=d.result;m===void 0&&(m=null),ce(m)&&(m=J(m)),i(m)},d.onerror=function(){o(d.error)}}catch(m){o(m)}})}).catch(o)});return I(a,r),a}function ae(e,r){var t=this,a=new h(function(i,o){t.ready().then(function(){Q(t._dbInfo,k,function(c,l){if(c)return o(c);try{var f=l.objectStore(t._dbInfo.storeName),d=f.openCursor(),m=1;d.onsuccess=function(){var x=d.result;if(x){var $=x.value;ce($)&&($=J($));var z=e($,x.key,m++);z!==void 0?i(z):x.continue()}else i()},d.onerror=function(){o(d.error)}}catch(x){o(x)}})}).catch(o)});return I(a,r),a}function ue(e,r,t){var a=this;e=R(e);var i=new h(function(o,c){var l;a.ready().then(function(){return l=a._dbInfo,P.call(r)==="[object Blob]"?_(l.db).then(function(f){return f?r:le(r)}):r}).then(function(f){Q(a._dbInfo,p,function(d,m){if(d)return c(d);try{var x=m.objectStore(a._dbInfo.storeName);f===null&&(f=void 0);var $=x.put(f,e);m.oncomplete=function(){f===void 0&&(f=null),o(f)},m.onabort=m.onerror=function(){var z=$.error?$.error:$.transaction.error;c(z)}}catch(z){c(z)}})}).catch(c)});return I(i,t),i}function ge(e,r){var t=this;e=R(e);var a=new h(function(i,o){t.ready().then(function(){Q(t._dbInfo,p,function(c,l){if(c)return o(c);try{var f=l.objectStore(t._dbInfo.storeName),d=f.delete(e);l.oncomplete=function(){i()},l.onerror=function(){o(d.error)},l.onabort=function(){var m=d.error?d.error:d.transaction.error;o(m)}}catch(m){o(m)}})}).catch(o)});return I(a,r),a}function je(e){var r=this,t=new h(function(a,i){r.ready().then(function(){Q(r._dbInfo,p,function(o,c){if(o)return i(o);try{var l=c.objectStore(r._dbInfo.storeName),f=l.clear();c.oncomplete=function(){a()},c.onabort=c.onerror=function(){var d=f.error?f.error:f.transaction.error;i(d)}}catch(d){i(d)}})}).catch(i)});return I(t,e),t}function Vt(e){var r=this,t=new h(function(a,i){r.ready().then(function(){Q(r._dbInfo,k,function(o,c){if(o)return i(o);try{var l=c.objectStore(r._dbInfo.storeName),f=l.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){i(f.error)}}catch(d){i(d)}})}).catch(i)});return I(t,e),t}function Wt(e,r){var t=this,a=new h(function(i,o){if(e<0){i(null);return}t.ready().then(function(){Q(t._dbInfo,k,function(c,l){if(c)return o(c);try{var f=l.objectStore(t._dbInfo.storeName),d=!1,m=f.openKeyCursor();m.onsuccess=function(){var x=m.result;if(!x){i(null);return}e===0||d?i(x.key):(d=!0,x.advance(e))},m.onerror=function(){o(m.error)}}catch(x){o(x)}})}).catch(o)});return I(a,r),a}function Gt(e){var r=this,t=new h(function(a,i){r.ready().then(function(){Q(r._dbInfo,k,function(o,c){if(o)return i(o);try{var l=c.objectStore(r._dbInfo.storeName),f=l.openKeyCursor(),d=[];f.onsuccess=function(){var m=f.result;if(!m){a(d);return}d.push(m.key),m.continue()},f.onerror=function(){i(f.error)}}catch(m){i(m)}})}).catch(i)});return I(t,e),t}function Xt(e,r){r=N.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,i;if(!e.name)i=h.reject("Invalid arguments");else{var o=e.name===t.name&&a._dbInfo.db,c=o?h.resolve(a._dbInfo.db):K(e).then(function(l){var f=S[e.name],d=f.forages;f.db=l;for(var m=0;m<d.length;m++)d[m]._dbInfo.db=l;return l});e.storeName?i=c.then(function(l){if(l.objectStoreNames.contains(e.storeName)){var f=l.version+1;L(e);var d=S[e.name],m=d.forages;l.close();for(var x=0;x<m.length;x++){var $=m[x];$._dbInfo.db=null,$._dbInfo.version=f}var z=new h(function(U,q){var X=A.open(e.name,f);X.onerror=function(ie){var Ie=X.result;Ie.close(),q(ie)},X.onupgradeneeded=function(){var ie=X.result;ie.deleteObjectStore(e.storeName)},X.onsuccess=function(){var ie=X.result;ie.close(),U(ie)}});return z.then(function(U){d.db=U;for(var q=0;q<m.length;q++){var X=m[q];X._dbInfo.db=U,H(X._dbInfo)}}).catch(function(U){throw(W(e,U)||h.resolve()).catch(function(){}),U})}}):i=c.then(function(l){L(e);var f=S[e.name],d=f.forages;l.close();for(var m=0;m<d.length;m++){var x=d[m];x._dbInfo.db=null}var $=new h(function(z,U){var q=A.deleteDatabase(e.name);q.onerror=function(){var X=q.result;X&&X.close(),U(q.error)},q.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},q.onsuccess=function(){var X=q.result;X&&X.close(),z(X)}});return $.then(function(z){f.db=z;for(var U=0;U<d.length;U++){var q=d[U];H(q._dbInfo)}}).catch(function(z){throw(W(e,z)||h.resolve()).catch(function(){}),z})})}return I(i,r),i}var qt={_driver:"asyncStorage",_initStorage:te,_support:C(),iterate:ae,getItem:ne,setItem:ue,removeItem:ge,clear:je,length:Vt,key:Wt,keys:Gt,dropInstance:Xt};function Qt(){return typeof openDatabase=="function"}var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kt="~~local_forage_type~",it=/^~~local_forage_type~([^~]+)~/,Ce="__lfsc__:",Ue=Ce.length,He="arbf",Ye="blob",st="si08",ct="ui08",ut="uic8",lt="si16",ft="si32",dt="ur16",vt="ui32",ht="fl32",mt="fl64",pt=Ue+He.length,gt=Object.prototype.toString;function yt(e){var r=e.length*.75,t=e.length,a,i=0,o,c,l,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=new ArrayBuffer(r),m=new Uint8Array(d);for(a=0;a<t;a+=4)o=ve.indexOf(e[a]),c=ve.indexOf(e[a+1]),l=ve.indexOf(e[a+2]),f=ve.indexOf(e[a+3]),m[i++]=o<<2|c>>4,m[i++]=(c&15)<<4|l>>2,m[i++]=(l&3)<<6|f&63;return d}function Ve(e){var r=new Uint8Array(e),t="",a;for(a=0;a<r.length;a+=3)t+=ve[r[a]>>2],t+=ve[(r[a]&3)<<4|r[a+1]>>4],t+=ve[(r[a+1]&15)<<2|r[a+2]>>6],t+=ve[r[a+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Jt(e,r){var t="";if(e&&(t=gt.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&gt.call(e.buffer)==="[object ArrayBuffer]")){var a,i=Ce;e instanceof ArrayBuffer?(a=e,i+=He):(a=e.buffer,t==="[object Int8Array]"?i+=st:t==="[object Uint8Array]"?i+=ct:t==="[object Uint8ClampedArray]"?i+=ut:t==="[object Int16Array]"?i+=lt:t==="[object Uint16Array]"?i+=dt:t==="[object Int32Array]"?i+=ft:t==="[object Uint32Array]"?i+=vt:t==="[object Float32Array]"?i+=ht:t==="[object Float64Array]"?i+=mt:r(new Error("Failed to get type for BinaryArray"))),r(i+Ve(a))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var c=Kt+e.type+"~"+Ve(this.result);r(Ce+Ye+c)},o.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(c){console.error("Couldn't convert value into a JSON string: ",e),r(null,c)}}function Zt(e){if(e.substring(0,Ue)!==Ce)return JSON.parse(e);var r=e.substring(pt),t=e.substring(Ue,pt),a;if(t===Ye&&it.test(r)){var i=r.match(it);a=i[1],r=r.substring(i[0].length)}var o=yt(r);switch(t){case He:return o;case Ye:return E([o],{type:a});case st:return new Int8Array(o);case ct:return new Uint8Array(o);case ut:return new Uint8ClampedArray(o);case lt:return new Int16Array(o);case dt:return new Uint16Array(o);case ft:return new Int32Array(o);case vt:return new Uint32Array(o);case ht:return new Float32Array(o);case mt:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var We={serialize:Jt,deserialize:Zt,stringToBuffer:yt,bufferToString:Ve};function bt(e,r,t,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,a)}function er(e){var r=this,t={db:null};if(e)for(var a in e)t[a]=typeof e[a]!="string"?e[a].toString():e[a];var i=new h(function(o,c){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(l){return c(l)}t.db.transaction(function(l){bt(l,t,function(){r._dbInfo=t,o()},function(f,d){c(d)})},c)});return t.serializer=We,i}function he(e,r,t,a,i,o){e.executeSql(t,a,i,function(c,l){l.code===l.SYNTAX_ERR?c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(f,d){d.rows.length?o(f,l):bt(f,r,function(){f.executeSql(t,a,i,o)},o)},o):o(c,l)},o)}function tr(e,r){var t=this;e=R(e);var a=new h(function(i,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(l){he(l,c,"SELECT * FROM "+c.storeName+" WHERE key = ? LIMIT 1",[e],function(f,d){var m=d.rows.length?d.rows.item(0).value:null;m&&(m=c.serializer.deserialize(m)),i(m)},function(f,d){o(d)})})}).catch(o)});return I(a,r),a}function rr(e,r){var t=this,a=new h(function(i,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(l){he(l,c,"SELECT * FROM "+c.storeName,[],function(f,d){for(var m=d.rows,x=m.length,$=0;$<x;$++){var z=m.item($),U=z.value;if(U&&(U=c.serializer.deserialize(U)),U=e(U,z.key,$+1),U!==void 0){i(U);return}}i()},function(f,d){o(d)})})}).catch(o)});return I(a,r),a}function _t(e,r,t,a){var i=this;e=R(e);var o=new h(function(c,l){i.ready().then(function(){r===void 0&&(r=null);var f=r,d=i._dbInfo;d.serializer.serialize(r,function(m,x){x?l(x):d.db.transaction(function($){he($,d,"INSERT OR REPLACE INTO "+d.storeName+" (key, value) VALUES (?, ?)",[e,m],function(){c(f)},function(z,U){l(U)})},function($){if($.code===$.QUOTA_ERR){if(a>0){c(_t.apply(i,[e,f,t,a-1]));return}l($)}})})}).catch(l)});return I(o,t),o}function nr(e,r,t){return _t.apply(this,[e,r,t,1])}function or(e,r){var t=this;e=R(e);var a=new h(function(i,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(l){he(l,c,"DELETE FROM "+c.storeName+" WHERE key = ?",[e],function(){i()},function(f,d){o(d)})})}).catch(o)});return I(a,r),a}function ar(e){var r=this,t=new h(function(a,i){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){he(c,o,"DELETE FROM "+o.storeName,[],function(){a()},function(l,f){i(f)})})}).catch(i)});return I(t,e),t}function ir(e){var r=this,t=new h(function(a,i){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){he(c,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(l,f){var d=f.rows.item(0).c;a(d)},function(l,f){i(f)})})}).catch(i)});return I(t,e),t}function sr(e,r){var t=this,a=new h(function(i,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(l){he(l,c,"SELECT key FROM "+c.storeName+" WHERE id = ? LIMIT 1",[e+1],function(f,d){var m=d.rows.length?d.rows.item(0).key:null;i(m)},function(f,d){o(d)})})}).catch(o)});return I(a,r),a}function cr(e){var r=this,t=new h(function(a,i){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){he(c,o,"SELECT key FROM "+o.storeName,[],function(l,f){for(var d=[],m=0;m<f.rows.length;m++)d.push(f.rows.item(m).key);a(d)},function(l,f){i(f)})})}).catch(i)});return I(t,e),t}function ur(e){return new h(function(r,t){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(i,o){for(var c=[],l=0;l<o.rows.length;l++)c.push(o.rows.item(l).name);r({db:e,storeNames:c})},function(i,o){t(o)})},function(a){t(a)})})}function lr(e,r){r=N.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,i;return e.name?i=new h(function(o){var c;e.name===t.name?c=a._dbInfo.db:c=openDatabase(e.name,"","",0),e.storeName?o({db:c,storeNames:[e.storeName]}):o(ur(c))}).then(function(o){return new h(function(c,l){o.db.transaction(function(f){function d(z){return new h(function(U,q){f.executeSql("DROP TABLE IF EXISTS "+z,[],function(){U()},function(X,ie){q(ie)})})}for(var m=[],x=0,$=o.storeNames.length;x<$;x++)m.push(d(o.storeNames[x]));h.all(m).then(function(){c()}).catch(function(z){l(z)})},function(f){l(f)})})}):i=h.reject("Invalid arguments"),I(i,r),i}var fr={_driver:"webSQLStorage",_initStorage:er,_support:Qt(),iterate:rr,getItem:tr,setItem:nr,removeItem:or,clear:ar,length:ir,key:sr,keys:cr,dropInstance:lr};function dr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Et(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function vr(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function hr(){return!vr()||localStorage.length>0}function mr(e){var r=this,t={};if(e)for(var a in e)t[a]=e[a];return t.keyPrefix=Et(e,r._defaultConfig),hr()?(r._dbInfo=t,t.serializer=We,h.resolve()):h.reject()}function pr(e){var r=this,t=r.ready().then(function(){for(var a=r._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var o=localStorage.key(i);o.indexOf(a)===0&&localStorage.removeItem(o)}});return I(t,e),t}function gr(e,r){var t=this;e=R(e);var a=t.ready().then(function(){var i=t._dbInfo,o=localStorage.getItem(i.keyPrefix+e);return o&&(o=i.serializer.deserialize(o)),o});return I(a,r),a}function yr(e,r){var t=this,a=t.ready().then(function(){for(var i=t._dbInfo,o=i.keyPrefix,c=o.length,l=localStorage.length,f=1,d=0;d<l;d++){var m=localStorage.key(d);if(m.indexOf(o)===0){var x=localStorage.getItem(m);if(x&&(x=i.serializer.deserialize(x)),x=e(x,m.substring(c),f++),x!==void 0)return x}}});return I(a,r),a}function br(e,r){var t=this,a=t.ready().then(function(){var i=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(i.keyPrefix.length)),o});return I(a,r),a}function _r(e){var r=this,t=r.ready().then(function(){for(var a=r._dbInfo,i=localStorage.length,o=[],c=0;c<i;c++){var l=localStorage.key(c);l.indexOf(a.keyPrefix)===0&&o.push(l.substring(a.keyPrefix.length))}return o});return I(t,e),t}function Er(e){var r=this,t=r.keys().then(function(a){return a.length});return I(t,e),t}function Ir(e,r){var t=this;e=R(e);var a=t.ready().then(function(){var i=t._dbInfo;localStorage.removeItem(i.keyPrefix+e)});return I(a,r),a}function wr(e,r,t){var a=this;e=R(e);var i=a.ready().then(function(){r===void 0&&(r=null);var o=r;return new h(function(c,l){var f=a._dbInfo;f.serializer.serialize(r,function(d,m){if(m)l(m);else try{localStorage.setItem(f.keyPrefix+e,d),c(o)}catch(x){(x.name==="QuotaExceededError"||x.name==="NS_ERROR_DOM_QUOTA_REACHED")&&l(x),l(x)}})})});return I(i,t),i}function xr(e,r){if(r=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var a=this,i;return e.name?i=new h(function(o){e.storeName?o(Et(e,a._defaultConfig)):o(e.name+"/")}).then(function(o){for(var c=localStorage.length-1;c>=0;c--){var l=localStorage.key(c);l.indexOf(o)===0&&localStorage.removeItem(l)}}):i=h.reject("Invalid arguments"),I(i,r),i}var Sr={_driver:"localStorageWrapper",_initStorage:mr,_support:dr(),iterate:yr,getItem:gr,setItem:wr,removeItem:Ir,clear:pr,length:Er,key:br,keys:_r,dropInstance:xr},Tr=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},Cr=function(r,t){for(var a=r.length,i=0;i<a;){if(Tr(r[i],t))return!0;i++}return!1},It=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},wt={},be={INDEXEDDB:qt,WEBSQL:fr,LOCALSTORAGE:Sr},Rr=[be.INDEXEDDB._driver,be.WEBSQL._driver,be.LOCALSTORAGE._driver],Re=["dropInstance"],Ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Re),Ar={description:"",driver:Rr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Nr(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function Xe(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(It(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var Dr=function(){function e(r){g(this,e);for(var t in be)if(be.hasOwnProperty(t)){var a=be[t],i=a._driver;this[t]=i,Ee[i]||this.defineDriver(a)}this._defaultConfig=Xe({},Ar),this._config=Xe({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":y(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in t){if(a==="storeName"&&(t[a]=t[a].replace(/\W/g,"_")),a==="version"&&typeof t[a]!="number")return new Error("Database version must be a number.");this._config[a]=t[a]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,a,i){var o=new h(function(c,l){try{var f=t._driver,d=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){l(d);return}for(var m=Ge.concat("_initStorage"),x=0,$=m.length;x<$;x++){var z=m[x],U=!Cr(Re,z);if((U||t[z])&&typeof t[z]!="function"){l(d);return}}var q=function(){for(var Ie=function(Br){return function(){var Or=new Error("Method "+Br+" is not implemented by the current driver"),xt=h.reject(Or);return I(xt,arguments[arguments.length-1]),xt}},qe=0,Lr=Re.length;qe<Lr;qe++){var Qe=Re[qe];t[Qe]||(t[Qe]=Ie(Qe))}};q();var X=function(Ie){Ee[f]&&console.info("Redefining LocalForage driver: "+f),Ee[f]=t,wt[f]=Ie,c()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(X,l):X(!!t._support):X(!0)}catch(ie){l(ie)}});return B(o,a,i),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,a,i){var o=Ee[t]?h.resolve(Ee[t]):h.reject(new Error("Driver not found."));return B(o,a,i),o},e.prototype.getSerializer=function(t){var a=h.resolve(We);return B(a,t),a},e.prototype.ready=function(t){var a=this,i=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return B(i,t,t),i},e.prototype.setDriver=function(t,a,i){var o=this;It(t)||(t=[t]);var c=this._getSupportedDrivers(t);function l(){o._config.driver=o.driver()}function f(x){return o._extend(x),l(),o._ready=o._initStorage(o._config),o._ready}function d(x){return function(){var $=0;function z(){for(;$<x.length;){var U=x[$];return $++,o._dbInfo=null,o._ready=null,o.getDriver(U).then(f).catch(z)}l();var q=new Error("No available storage method found.");return o._driverSet=h.reject(q),o._driverSet}return z()}}var m=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=m.then(function(){var x=c[0];return o._dbInfo=null,o._ready=null,o.getDriver(x).then(function($){o._driver=$._driver,l(),o._wrapLibraryMethodsWithReady(),o._initDriver=d(c)})}).catch(function(){l();var x=new Error("No available storage method found.");return o._driverSet=h.reject(x),o._driverSet}),B(this._driverSet,a,i),this._driverSet},e.prototype.supports=function(t){return!!wt[t]},e.prototype._extend=function(t){Xe(this,t)},e.prototype._getSupportedDrivers=function(t){for(var a=[],i=0,o=t.length;i<o;i++){var c=t[i];this.supports(c)&&a.push(c)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,a=Ge.length;t<a;t++)Nr(this,Ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Pr=new Dr;v.exports=Pr},{3:3}]},{},[4])(4)})})(on);async function Ot({url:n="",options:s={},retries:u=2,delay:v=2e3,timeout:b=8e3}){const y=new AbortController,{signal:g}=y;s.signal=g;const w=setTimeout(()=>y.abort(),b);return await fetch(n,s).then(async C=>{if(clearTimeout(w),!C.ok)throw new Error(`HTTP error: ${C.status} - ${C.statusText}`);const E=C.headers.get("content-type");return E!=null&&E.includes("json")?await C.json():E!=null&&E.includes("image")||E!=null&&E.includes("video")||E!=null&&E.includes("audio")||E!=null&&E.includes("octet-stream")?await C.blob():await C.text()}).catch(async C=>{if(clearTimeout(w),u>0)return await new Promise(E=>setTimeout(E,v)),Ot({url:n,options:s,retries:u-1,delay:v,timeout:b});throw C})}async function an(n,s){const u=navigator.onLine;let v=!1;(await Ot({url:n.config.apiHost+"/api/v1/ping"}).catch(y=>{throw new Error(y)})).includes("pong")&&(v=!0),s({type:"SET_ONLINE_STATUS",payload:u&&v})}const sn=async(n,s)=>{const u=await fetch(`${n.config.apiHost}/api/v1/public-chatbotConfig/${n.config.chatflowid}`).catch(g=>{throw new Error(`Error fetching chatbot config: ${g}`)});if(!u.ok)throw new Error(`Error fetching chatbot config: ${u.statusText}`);const{uploads:{isSpeechToTextEnabled:v,isImageUploadAllowed:b,isFileUploadAllowed:y}}=await u.json();s({type:"SET_API_ACCEPTING_VOICE",payload:v}),s({type:"SET_API_ACCEPTING_IMAGE",payload:b}),s({type:"SET_API_ACCEPTING_FILES",payload:y})};function Mt(n){var s,u,v="";if(typeof n=="string"||typeof n=="number")v+=n;else if(typeof n=="object")if(Array.isArray(n)){var b=n.length;for(s=0;s<b;s++)n[s]&&(u=Mt(n[s]))&&(v&&(v+=" "),v+=u)}else for(u in n)n[u]&&(v&&(v+=" "),v+=u);return v}function pe(){for(var n,s,u=0,v="",b=arguments.length;u<b;u++)(n=arguments[u])&&(s=Mt(n))&&(v&&(v+=" "),v+=s);return v}const Se=n=>typeof n=="number"&&!isNaN(n),ye=n=>typeof n=="string",oe=n=>typeof n=="function",Le=n=>ye(n)||oe(n)?n:null,Ze=n=>j.isValidElement(n)||ye(n)||oe(n)||Se(n);function cn(n,s,u){u===void 0&&(u=300);const{scrollHeight:v,style:b}=n;requestAnimationFrame(()=>{b.minHeight="initial",b.height=v+"px",b.transition=`all ${u}ms`,requestAnimationFrame(()=>{b.height="0",b.padding="0",b.margin="0",setTimeout(s,u)})})}function Fe(n){let{enter:s,exit:u,appendPosition:v=!1,collapse:b=!0,collapseDuration:y=300}=n;return function(g){let{children:w,position:A,preventExitTransition:C,done:E,nodeRef:h,isIn:I,playToast:B}=g;const R=v?`${s}--${A}`:s,N=v?`${u}--${A}`:u,D=j.useRef(0);return j.useLayoutEffect(()=>{const O=h.current,S=R.split(" "),P=k=>{k.target===h.current&&(B(),O.removeEventListener("animationend",P),O.removeEventListener("animationcancel",P),D.current===0&&k.type!=="animationcancel"&&O.classList.remove(...S))};O.classList.add(...S),O.addEventListener("animationend",P),O.addEventListener("animationcancel",P)},[]),j.useEffect(()=>{const O=h.current,S=()=>{O.removeEventListener("animationend",S),b?cn(O,E,y):E()};I||(C?S():(D.current=1,O.className+=` ${N}`,O.addEventListener("animationend",S)))},[I]),Y.createElement(Y.Fragment,null,w)}}function Nt(n,s){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:s}:{}}const Z=new Map;let Te=[];const et=new Set,un=n=>et.forEach(s=>s(n)),$t=()=>Z.size>0;function kt(n,s){var u;if(s)return!((u=Z.get(s))==null||!u.isToastActive(n));let v=!1;return Z.forEach(b=>{b.isToastActive(n)&&(v=!0)}),v}function Ft(n,s){Ze(n)&&($t()||Te.push({content:n,options:s}),Z.forEach(u=>{u.buildToast(n,s)}))}function Dt(n,s){Z.forEach(u=>{s!=null&&s!=null&&s.containerId?(s==null?void 0:s.containerId)===u.id&&u.toggle(n,s==null?void 0:s.id):u.toggle(n,s==null?void 0:s.id)})}function ln(n){const{subscribe:s,getSnapshot:u,setProps:v}=j.useRef(function(y){const g=y.containerId||1;return{subscribe(w){const A=function(E,h,I){let B=1,R=0,N=[],D=[],O=[],S=h;const P=new Map,k=new Set,p=()=>{O=Array.from(P.values()),k.forEach(_=>_())},M=_=>{D=_==null?[]:D.filter(L=>L!==_),p()},T=_=>{const{toastId:L,onOpen:H,updateId:W,children:G}=_.props,K=W==null;_.staleId&&P.delete(_.staleId),P.set(L,_),D=[...D,_.props.toastId].filter(ee=>ee!==_.staleId),p(),I(Nt(_,K?"added":"updated")),K&&oe(H)&&H(j.isValidElement(G)&&G.props)};return{id:E,props:S,observe:_=>(k.add(_),()=>k.delete(_)),toggle:(_,L)=>{P.forEach(H=>{L!=null&&L!==H.props.toastId||oe(H.toggle)&&H.toggle(_)})},removeToast:M,toasts:P,clearQueue:()=>{R-=N.length,N=[]},buildToast:(_,L)=>{if((re=>{let{containerId:te,toastId:ne,updateId:ae}=re;const ue=te?te!==E:E!==1,ge=P.has(ne)&&ae==null;return ue||ge})(L))return;const{toastId:H,updateId:W,data:G,staleId:K,delay:ee}=L,se=()=>{M(H)},le=W==null;le&&R++;const J={...S,style:S.toastStyle,key:B++,...Object.fromEntries(Object.entries(L).filter(re=>{let[te,ne]=re;return ne!=null})),toastId:H,updateId:W,data:G,closeToast:se,isIn:!1,className:Le(L.className||S.toastClassName),bodyClassName:Le(L.bodyClassName||S.bodyClassName),progressClassName:Le(L.progressClassName||S.progressClassName),autoClose:!L.isLoading&&(ce=L.autoClose,fe=S.autoClose,ce===!1||Se(ce)&&ce>0?ce:fe),deleteToast(){const re=P.get(H),{onClose:te,children:ne}=re.props;oe(te)&&te(j.isValidElement(ne)&&ne.props),I(Nt(re,"removed")),P.delete(H),R--,R<0&&(R=0),N.length>0?T(N.shift()):p()}};var ce,fe;J.closeButton=S.closeButton,L.closeButton===!1||Ze(L.closeButton)?J.closeButton=L.closeButton:L.closeButton===!0&&(J.closeButton=!Ze(S.closeButton)||S.closeButton);let de=_;j.isValidElement(_)&&!ye(_.type)?de=j.cloneElement(_,{closeToast:se,toastProps:J,data:G}):oe(_)&&(de=_({closeToast:se,toastProps:J,data:G}));const Q={content:de,props:J,staleId:K};S.limit&&S.limit>0&&R>S.limit&&le?N.push(Q):Se(ee)?setTimeout(()=>{T(Q)},ee):T(Q)},setProps(_){S=_},setToggle:(_,L)=>{P.get(_).toggle=L},isToastActive:_=>D.some(L=>L===_),getSnapshot:()=>O}}(g,y,un);Z.set(g,A);const C=A.observe(w);return Te.forEach(E=>Ft(E.content,E.options)),Te=[],()=>{C(),Z.delete(g)}},setProps(w){var A;(A=Z.get(g))==null||A.setProps(w)},getSnapshot(){var w;return(w=Z.get(g))==null?void 0:w.getSnapshot()}}}(n)).current;v(n);const b=j.useSyncExternalStore(s,u,u);return{getToastToRender:function(y){if(!b)return[];const g=new Map;return n.newestOnTop&&b.reverse(),b.forEach(w=>{const{position:A}=w.props;g.has(A)||g.set(A,[]),g.get(A).push(w)}),Array.from(g,w=>y(w[0],w[1]))},isToastActive:kt,count:b==null?void 0:b.length}}function fn(n){const[s,u]=j.useState(!1),[v,b]=j.useState(!1),y=j.useRef(null),g=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:w,pauseOnHover:A,closeToast:C,onClick:E,closeOnClick:h}=n;var I,B;function R(){u(!0)}function N(){u(!1)}function D(P){const k=y.current;g.canDrag&&k&&(g.didMove=!0,s&&N(),g.delta=n.draggableDirection==="x"?P.clientX-g.start:P.clientY-g.start,g.start!==P.clientX&&(g.canCloseOnClick=!1),k.style.transform=`translate3d(${n.draggableDirection==="x"?`${g.delta}px, var(--y)`:`0, calc(${g.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(g.delta/g.removalDistance)))}function O(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",O);const P=y.current;if(g.canDrag&&g.didMove&&P){if(g.canDrag=!1,Math.abs(g.delta)>g.removalDistance)return b(!0),n.closeToast(),void n.collapseAll();P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}(B=Z.get((I={id:n.toastId,containerId:n.containerId,fn:u}).containerId||1))==null||B.setToggle(I.id,I.fn),j.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||N(),window.addEventListener("focus",R),window.addEventListener("blur",N),()=>{window.removeEventListener("focus",R),window.removeEventListener("blur",N)}},[n.pauseOnFocusLoss]);const S={onPointerDown:function(P){if(n.draggable===!0||n.draggable===P.pointerType){g.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",O);const k=y.current;g.canCloseOnClick=!0,g.canDrag=!0,k.style.transition="none",n.draggableDirection==="x"?(g.start=P.clientX,g.removalDistance=k.offsetWidth*(n.draggablePercent/100)):(g.start=P.clientY,g.removalDistance=k.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(P){const{top:k,bottom:p,left:M,right:T}=y.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=M&&P.clientX<=T&&P.clientY>=k&&P.clientY<=p?N():R()}};return w&&A&&(S.onMouseEnter=N,n.stacked||(S.onMouseLeave=R)),h&&(S.onClick=P=>{E&&E(P),g.canCloseOnClick&&C()}),{playToast:R,pauseToast:N,isRunning:s,preventExitTransition:v,toastRef:y,eventHandlers:S}}function dn(n){let{delay:s,isRunning:u,closeToast:v,type:b="default",hide:y,className:g,style:w,controlledProgress:A,progress:C,rtl:E,isIn:h,theme:I}=n;const B=y||A&&C===0,R={...w,animationDuration:`${s}ms`,animationPlayState:u?"running":"paused"};A&&(R.transform=`scaleX(${C})`);const N=pe("Toastify__progress-bar",A?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${I}`,`Toastify__progress-bar--${b}`,{"Toastify__progress-bar--rtl":E}),D=oe(g)?g({rtl:E,type:b,defaultClassName:N}):pe(N,g),O={[A&&C>=1?"onTransitionEnd":"onAnimationEnd"]:A&&C<1?null:()=>{h&&v()}};return Y.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":B},Y.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${I} Toastify__progress-bar--${b}`}),Y.createElement("div",{role:"progressbar","aria-hidden":B?"true":"false","aria-label":"notification timer",className:D,style:R,...O}))}let vn=1;const zt=()=>""+vn++;function hn(n){return n&&(ye(n.toastId)||Se(n.toastId))?n.toastId:zt()}function xe(n,s){return Ft(n,s),s.toastId}function Oe(n,s){return{...s,type:s&&s.type||n,toastId:hn(s)}}function De(n){return(s,u)=>xe(s,Oe(n,u))}function V(n,s){return xe(n,Oe("default",s))}V.loading=(n,s)=>xe(n,Oe("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s})),V.promise=function(n,s,u){let v,{pending:b,error:y,success:g}=s;b&&(v=ye(b)?V.loading(b,u):V.loading(b.render,{...u,...b}));const w={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},A=(E,h,I)=>{if(h==null)return void V.dismiss(v);const B={type:E,...w,...u,data:I},R=ye(h)?{render:h}:h;return v?V.update(v,{...B,...R}):V(R.render,{...B,...R}),I},C=oe(n)?n():n;return C.then(E=>A("success",g,E)).catch(E=>A("error",y,E)),C},V.success=De("success"),V.info=De("info"),V.error=De("error"),V.warning=De("warning"),V.warn=V.warning,V.dark=(n,s)=>xe(n,Oe("default",{theme:"dark",...s})),V.dismiss=function(n){(function(s){var u;if($t()){if(s==null||ye(u=s)||Se(u))Z.forEach(v=>{v.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){const v=Z.get(s.containerId);v?v.removeToast(s.id):Z.forEach(b=>{b.removeToast(s.id)})}}else Te=Te.filter(v=>s!=null&&v.options.toastId!==s)})(n)},V.clearWaitingQueue=function(n){n===void 0&&(n={}),Z.forEach(s=>{!s.props.limit||n.containerId&&s.id!==n.containerId||s.clearQueue()})},V.isActive=kt,V.update=function(n,s){s===void 0&&(s={});const u=((v,b)=>{var y;let{containerId:g}=b;return(y=Z.get(g||1))==null?void 0:y.toasts.get(v)})(n,s);if(u){const{props:v,content:b}=u,y={delay:100,...v,...s,toastId:s.toastId||n,updateId:zt()};y.toastId!==n&&(y.staleId=n);const g=y.render||b;delete y.render,xe(g,y)}},V.done=n=>{V.update(n,{progress:1})},V.onChange=function(n){return et.add(n),()=>{et.delete(n)}},V.play=n=>Dt(!0,n),V.pause=n=>Dt(!1,n);const mn=typeof window<"u"?j.useLayoutEffect:j.useEffect,Pe=n=>{let{theme:s,type:u,isLoading:v,...b}=n;return Y.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${u})`,...b})},Je={info:function(n){return Y.createElement(Pe,{...n},Y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Y.createElement(Pe,{...n},Y.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Y.createElement(Pe,{...n},Y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Y.createElement(Pe,{...n},Y.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Y.createElement("div",{className:"Toastify__spinner"})}},pn=n=>{const{isRunning:s,preventExitTransition:u,toastRef:v,eventHandlers:b,playToast:y}=fn(n),{closeButton:g,children:w,autoClose:A,onClick:C,type:E,hideProgressBar:h,closeToast:I,transition:B,position:R,className:N,style:D,bodyClassName:O,bodyStyle:S,progressClassName:P,progressStyle:k,updateId:p,role:M,progress:T,rtl:_,toastId:L,deleteToast:H,isIn:W,isLoading:G,closeOnClick:K,theme:ee}=n,se=pe("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":K}),le=oe(N)?N({rtl:_,position:R,type:E,defaultClassName:se}):pe(se,N),J=function(Q){let{theme:re,type:te,isLoading:ne,icon:ae}=Q,ue=null;const ge={theme:re,type:te};return ae===!1||(oe(ae)?ue=ae({...ge,isLoading:ne}):j.isValidElement(ae)?ue=j.cloneElement(ae,ge):ne?ue=Je.spinner():(je=>je in Je)(te)&&(ue=Je[te](ge))),ue}(n),ce=!!T||!A,fe={closeToast:I,type:E,theme:ee};let de=null;return g===!1||(de=oe(g)?g(fe):j.isValidElement(g)?j.cloneElement(g,fe):function(Q){let{closeToast:re,theme:te,ariaLabel:ne="close"}=Q;return Y.createElement("button",{className:`Toastify__close-button Toastify__close-button--${te}`,type:"button",onClick:ae=>{ae.stopPropagation(),re(ae)},"aria-label":ne},Y.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Y.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(fe)),Y.createElement(B,{isIn:W,done:H,position:R,preventExitTransition:u,nodeRef:v,playToast:y},Y.createElement("div",{id:L,onClick:C,"data-in":W,className:le,...b,style:D,ref:v},Y.createElement("div",{...W&&{role:M},className:oe(O)?O({type:E}):pe("Toastify__toast-body",O),style:S},J!=null&&Y.createElement("div",{className:pe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},J),Y.createElement("div",null,w)),de,Y.createElement(dn,{...p&&!ce?{key:`pb-${p}`}:{},rtl:_,theme:ee,delay:A,isRunning:s,isIn:W,closeToast:I,hide:h,type:E,style:k,className:P,controlledProgress:ce,progress:T||0})))},ze=function(n,s){return s===void 0&&(s=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:s}},gn=Fe(ze("bounce",!0));Fe(ze("slide",!0));Fe(ze("zoom"));Fe(ze("flip"));const yn={position:"top-right",transition:gn,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function bn(n){let s={...yn,...n};const u=n.stacked,[v,b]=j.useState(!0),y=j.useRef(null),{getToastToRender:g,isToastActive:w,count:A}=ln(s),{className:C,style:E,rtl:h,containerId:I}=s;function B(N){const D=pe("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":h});return oe(C)?C({position:N,rtl:h,defaultClassName:D}):pe(D,Le(C))}function R(){u&&(b(!0),V.play())}return mn(()=>{if(u){var N;const D=y.current.querySelectorAll('[data-in="true"]'),O=12,S=(N=s.position)==null?void 0:N.includes("top");let P=0,k=0;Array.from(D).reverse().forEach((p,M)=>{const T=p;T.classList.add("Toastify__toast--stacked"),M>0&&(T.dataset.collapsed=`${v}`),T.dataset.pos||(T.dataset.pos=S?"top":"bot");const _=P*(v?.2:1)+(v?0:O*M);T.style.setProperty("--y",`${S?_:-1*_}px`),T.style.setProperty("--g",`${O}`),T.style.setProperty("--s",""+(1-(v?k:0))),P+=T.offsetHeight,k+=.025})}},[v,A,u]),Y.createElement("div",{ref:y,className:"Toastify",id:I,onMouseEnter:()=>{u&&(b(!1),V.pause())},onMouseLeave:R},g((N,D)=>{const O=D.length?{...E}:{...E,pointerEvents:"none"};return Y.createElement("div",{className:B(N),style:O,key:`container-${N}`},D.map(S=>{let{content:P,props:k}=S;return Y.createElement(pn,{...k,stacked:u,collapseAll:R,isIn:w(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},P)}))}))}var rt={},_n=$e;Object.defineProperty(rt,"__esModule",{value:!0});var jt=rt.default=void 0,En=_n(Me()),In=F,wn=(0,En.default)((0,In.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");jt=rt.default=wn;var nt={},xn=$e;Object.defineProperty(nt,"__esModule",{value:!0});var Ut=nt.default=void 0,Sn=xn(Me()),Tn=F,Cn=(0,Sn.default)((0,Tn.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Ut=nt.default=Cn;var ot={},Rn=$e;Object.defineProperty(ot,"__esModule",{value:!0});var Ht=ot.default=void 0,An=Rn(Me()),Nn=F,Dn=(0,An.default)((0,Nn.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");Ht=ot.default=Dn;var at={},Pn=$e;Object.defineProperty(at,"__esModule",{value:!0});var Yt=at.default=void 0,Ln=Pn(Me()),Bn=F,On=(0,Ln.default)((0,Bn.jsx)("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExit");Yt=at.default=On;const Mn=({position:n={bottom:"20px",right:"20px"}})=>{const[s,u]=rn(),[v,b]=j.useState(!1),[y,g]=j.useState(!1);j.useEffect(()=>{s.error&&(V.error(s.error),u({type:"SET_ERROR",payload:""}))},[s.error]),j.useEffect(()=>{an(s,u),sn(s,u)},[s,u]);const w=()=>b(!v),A=()=>g(!y);return F.jsxs(F.Fragment,{children:[F.jsx(bn,{position:"top-center",autoClose:5e3,theme:"colored"}),!v&&F.jsx(Hr,{onClick:w,sx:{position:"fixed",bottom:n.bottom,right:n.right,bgcolor:"primary.main",color:"white",width:64,height:64,borderRadius:"50%",boxShadow:3,zIndex:50},children:F.jsx(jt,{fontSize:"large"})}),v&&F.jsx(_e,{sx:{position:"fixed",inset:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:y?"rgba(0, 0, 0, 0.5)":"transparent",backdropFilter:y?"blur(5px)":"none",zIndex:999999},children:F.jsxs(_e,{sx:{width:y?"100%":"80%",height:y?"100%":"60%",maxWidth:"50%",bgcolor:"background.paper",borderRadius:2,overflow:"hidden",boxShadow:3,position:"fixed",bottom:y?"unset":n.bottom,right:y?"unset":n.right},children:[F.jsxs(_e,{sx:{display:"flex",alignItems:"center",p:1,bgcolor:"primary.main",color:"white"},children:[F.jsx(Ke,{sx:{flexGrow:1},children:"Chatbot Assistant"}),F.jsx(St,{onClick:A,sx:{color:"white"},children:y?F.jsx(Yt,{}):F.jsx(Ht,{})}),F.jsx(St,{onClick:w,sx:{color:"white"},children:F.jsx(Ut,{})})]}),F.jsx(_e,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"auto",p:2},children:s.isApiTyping?F.jsx(_e,{sx:{display:"flex",justifyContent:"center",mt:2},children:F.jsx(Zr,{size:16})}):F.jsx(Ke,{children:"Chat content goes here..."})}),F.jsx(_e,{component:"footer",sx:{p:2,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"grey.100",borderTop:1,borderColor:"grey.300"},children:F.jsxs(Ke,{variant:"body2",color:"textSecondary",children:[" ",new Date().getFullYear()," CriticalFuture. Made by"," ",F.jsx("a",{href:"https://criticalfutureglobal.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CriticalFuture"})]})})]})})]})},$n={assistant:{name:"Mai",description:"Critical Future Chatbot Assistant",welcomeMessage:"Hello! How can I assist you today?",voiceName:"en-GB-SoniaNeural",avatar:{staticUrl:"https://raw.githubusercontent.com/Critical-Future-LLM-in-a-Box/llminaboxchatbots/main/Avatars/mai/mai.png",liveUrl:"https://raw.githubusercontent.com/Critical-Future-LLM-in-a-Box/llminaboxchatbots/main/Avatars/mai/mai-new.gif",videoUrl:"https://github.com/Critical-Future-LLM-in-a-Box/llminaboxchatbots/raw/main/Avatars/mai/Mai%20intro%20V0.2%20(sonia%20voice).mp4"}},api:{apiHost:"https://llm.criticalfutureglobal.com",chatflowId:"95e01dd4-ff2f-4055-a6f1-3cfc35261831",authToken:""},session:{chatId:localStorage.getItem("chatid")??Math.random().toString().substring(2,12),chats:JSON.parse(localStorage.getItem("chats")??"[]"),memory:!0},ui:{backgroundColor:"#F8F8FF",foregroundColor:"#000000",width:"100%",height:"100%"}};function kn(n=$n){let s=document.querySelector("llminabox");s||(s=document.createElement("llminabox"),document.body.appendChild(s)),Yr.createRoot(s).render(F.jsx(tn,{config:n,children:F.jsx(Mn,{position:{bottom:"20px",right:"20px"}})}))}kn();
